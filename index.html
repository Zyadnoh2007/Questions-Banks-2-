<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ููุตุฉ ุงูุงุฎุชุจุงุฑุงุช</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <!-- ุดุงุดุฉ ุงูุชุฑุญูุจ -->
  <div id="welcome-modal" class="modal-overlay">
    <div class="modal-box">
      <h2>ูุฑุญุจุงู ุจู ูุง ุจุทู ๐ฉบ</h2>
      <p>ูู ูุถูู ุงุฏุฎู ุงุณูู ุงูุซูุงุซู ูุจู ุงูุจุฏุก</p>
      <input type="text" id="student-name-input" placeholder="ุงูุชุจ ุงุณูู ููุง..." />
      <p id="login-error" style="color: #ef4444; font-size: 0.9rem; display: none; margin-top:5px;"></p>
      <button id="login-btn" class="start-btn" onclick="saveStudentName()">ุฏุฎูู</button>
    </div>
  </div>

  <!-- ุดุงุดุฉ ุฏุฎูู ุงูุฃุฏูู -->
  <div id="admin-login-modal" class="modal-overlay" style="display: none;">
    <div class="modal-box">
      <h2>ุฏุฎูู ุงููุดุฑููู ๐</h2>
      <input type="password" id="admin-password-input" placeholder="ูููุฉ ุงููุฑูุฑ..." />
      <p id="admin-error" style="color: #ef4444; font-size: 0.9rem; display: none;">ูููุฉ ุงููุฑูุฑ ุฎุทุฃ</p>
      <div style="display: flex; gap: 10px; justify-content: center;">
          <button class="start-btn" onclick="checkAdminPassword()">ุฏุฎูู</button>
          <button class="start-btn" onclick="closeAdminLogin()" style="background: #64748b;">ุฅูุบุงุก</button>
      </div>
    </div>
  </div>

  <div class="container">
    
    <!-- ุดุฑูุท ุงูุฃุฎุจุงุฑ -->
    <div id="news-ticker-bar" class="news-container" style="display:none;">
        <div class="news-label">ุชูุจูู ูุงู ๐</div>
        <div class="news-content">
            <span id="news-text">ุฌุงุฑู ุงูุชุญููู...</span>
        </div>
    </div>

    <div class="header">
      <div class="header-controls">
          <button id="theme-toggle" class="icon-btn" title="ุชุบููุฑ ุงููุถุน">๐</button>
          <button onclick="logoutUser()" class="icon-btn" title="ุชุณุฌูู ุฎุฑูุฌ" style="color:#ef4444; border-color:#ef4444;">๐ช</button>
          <button onclick="openDashboard()" class="icon-btn dashboard-icon" title="ุฅุญุตุงุฆูุงุชู">๐</button>
          <button onclick="openAdminLogin()" class="icon-btn admin-icon" title="ููุญุฉ ุงููุดุฑููู">๐จโ๐ผ</button>
      </div>
      
      <h1 id="site-title">ููุตุฉ ุงูุงุฎุชุจุงุฑุงุช</h1>
      <p id="welcome-message">ุฃููุงู ุจู</p>
    </div>

    <!-- ุงูุชุจููุจุงุช (ุงููุฏูู ุซุงุจุช + ุงูุฌุฏูุฏ ุฏููุงูููู) -->
    <div id="main-nav" class="tab-container">
      <!-- ุงููุฏูู ุซุงุจุช -->
      <button class="tab-btn active" data-static="true" onclick="selectSubject('microbiology')">Microbiology</button>
      <button class="tab-btn" data-static="true" onclick="selectSubject('fundamental')">Fundamental</button>
      <button class="tab-btn" data-static="true" onclick="selectSubject('biochemistry')">Biochemistry</button>
      <button class="tab-btn" data-static="true" onclick="selectSubject('anatomy')">Anatomy</button>
      <button class="tab-btn" data-static="true" onclick="selectSubject('physiology')">Physiology</button>
      <button class="tab-btn" data-static="true" onclick="selectSubject('clinical')">Clinical</button>
      <button class="tab-btn" data-static="true" onclick="selectSubject('ethics')">Ethics</button>
      <!-- ุงูุฌุฏูุฏ ููุชุถุงู ููุง -->
    </div>

    <!-- ุนุฑุถ ุงููุฑูุช -->
    <div id="quiz-list-area" style="display:none;">
        <button class="start-btn" onclick="backToSources()" style="margin-bottom: 20px; background: #64748b;">โ ุชุบููุฑ ุงููุตุฏุฑ</button>
        <div id="dynamic-cards-container" class="cards-grid"></div>
    </div>

    <!-- ููุญุฉ ุงูุทุงูุจ -->
    <div id="dashboard-view" style="display:none;">
        <h2 class="quiz-title">ุฅุญุตุงุฆูุงุชู ุงูุดุฎุตูุฉ ๐</h2>
        <div class="stats-grid">
            <div class="stat-card"><div class="stat-info"><span id="total-quizzes-taken">0</span><p>ูููุฒุงุช</p></div></div>
            <div class="stat-card"><div class="stat-info"><span id="total-accuracy">0%</span><p>ุงูุฏูุฉ</p></div></div>
        </div>
        <div class="history-table-container">
            <table style="width:100%">
                <tbody id="history-table-body"></tbody>
            </table>
        </div>
        <button class="start-btn" onclick="closeDashboard()" style="margin-top:20px;">ุงูุนูุฏุฉ ููุฑุฆูุณูุฉ</button>
    </div>

    <!-- ููุญุฉ ุงูุฃุฏูู -->
    <div id="admin-dashboard-view" style="display:none;">
        <div style="display:flex; justify-content:space-between; align-items:center;">
            <h2 class="quiz-title" style="color:var(--secondary-color);">๐จโ๐ผ ููุญุฉ ุงููุดุฑู</h2>
            <button class="start-btn" onclick="closeAdminDashboard()" style="background:#ef4444; width:auto;">ุฎุฑูุฌ</button>
        </div>

        <!-- 1. ุชุญูู ูู ุงูุฃุฎุจุงุฑ -->
        <div class="admin-section" style="border-color: #f59e0b;">
            <h3 style="color:#f59e0b; margin-top:0;">๐ฃ ุชุญูู ูู ุงูุชูุจููุงุช</h3>
            <div style="display:flex; gap:10px; align-items:center;">
                <input type="text" id="admin-news-input" class="admin-input" style="margin:0;" placeholder="ุงูุชุจ ุงูุชูุจูู ููุง...">
                <button class="start-btn" onclick="updateCloudNews()" style="width:auto; margin:0; background:#d97706;">ูุดุฑ โ๏ธ</button>
            </div>
        </div>

        <!-- 3. ุฅุถุงูุฉ ุงูุชุญุงู -->
        <div class="admin-section" style="border-color: #10b981;">
            <h3 style="color:#10b981; margin-top:0;">โ ุฅุถุงูุฉ ุงูุชุญุงู ุฌุฏูุฏ</h3>
            <div style="display:grid; grid-template-columns: 1fr 1fr; gap:10px; margin-bottom:10px;">
                <select id="admin-sub-select" class="admin-input"></select>
                <select id="admin-src-select" class="admin-input"></select>
            </div>
            <input type="text" id="admin-quiz-title" class="admin-input" placeholder="ุนููุงู ุงูุงูุชุญุงู">
            <textarea id="admin-quiz-content" class="admin-input" style="height:150px;" placeholder="ุงูุณุฎ ุงูุฃุณุฆูุฉ ููุง..."></textarea>
            <button class="start-btn" onclick="addNewQuizFromAdmin()" style="background:#10b981;">ุญูุธ ุงูุงูุชุญุงู โ</button>
        </div>

        <!-- 4. ุญุฐู -->
        <h3 style="border-top: 1px solid #ccc; padding-top: 20px;">๐๏ธ ุงูุงูุชุญุงูุงุช ุงููุฏููุฉ</h3>
        <div id="admin-custom-quizzes-list" class="cards-grid" style="margin-bottom: 30px;"></div>

        <!-- 5. ููุทูุฉ ุงูุชุญูู ูู ุงูุจูุงูุงุช (ุฒุฑุงูุฑ ุงูุญุฐู) -->
        <h3 style="border-top: 1px solid #ccc; padding-top: 20px; color:#ef4444;">โ ููุทูุฉ ุงูุชุญูู ูู ุงูุจูุงูุงุช</h3>
        <div class="admin-section danger-zone">
            <div style="display:flex; justify-content:space-between; align-items:center; flex-wrap:wrap; gap:10px;">
                <button onclick="deleteAllStudents()" class="start-btn danger-btn">๐๏ธ ุญุฐู ุฌููุน ุงูุทูุงุจ</button>
                <button onclick="deleteAllResults()" class="start-btn danger-btn">๐๏ธ ุญุฐู ุฌููุน ุงููุชุงุฆุฌ</button>
            </div>
            <p style="color:var(--text-dark); opacity:0.7; font-size:0.9rem; margin-top:10px;">* ุชุญุฐูุฑ: ูุฐู ุงูุฅุฌุฑุงุกุงุช ูุง ูููู ุงูุชุฑุงุฌุน ุนููุง.</p>
        </div>
    </div>

    <!-- ุงููุฑุงุฌุนุฉ -->
    <div id="review-container" class="review-container" style="display:none;">
      <h2 class="quiz-title">ูุฑุงุฌุนุฉ ุงูุฅุฌุงุจุงุช</h2>
      <div id="review-content"></div>
      <button class="start-btn" onclick="backToQuizList()">ุงูุนูุฏุฉ ูููุงุฆูุฉ</button>
    </div>

    <div class="footer">
      <p>Created by Zyad & Yusuf</p>
      <a href="https://zyadyasser2007.sarhne.com" target="_blank" class="sarhne-btn">ุตุงุฑุญูู ๐โค๏ธ</a>
    </div>
  </div>

  <script src="script.js" defer></script>
</body>
</html>
